<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hybrid Spares Shop</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Poppins,Arial,sans-serif}
body{background:#f5f5f5;color:#333}
.hidden{display:none!important}
.hidden-section{display:none}

/* HEADER */
.site-header{
display:flex;justify-content:space-between;align-items:center;
background:#222;color:#fff;padding:15px 20px;position:sticky;top:0;z-index:1000
}
.logo-container{display:flex;align-items:center}
.logo{height:45px;margin-right:10px}
nav a,nav button{color:#fff;background:none;border:none;margin-left:15px;cursor:pointer}
nav a.active{color:#00aaff;border-bottom:2px solid #00aaff}

/* MOBILE */
.menu-toggle{display:none;font-size:22px;color:#fff;background:none;border:none}
@media(max-width:768px){
nav{display:none;flex-direction:column;background:#222;position:absolute;top:100%;left:0;right:0}
nav.open{display:flex}
.menu-toggle{display:block}
nav a,nav button{padding:15px;border-top:1px solid #333}
}

/* HERO */
.hero{height:400px;position:relative;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center;overflow:hidden}
.slideshow,.slide{position:absolute;inset:0}
.slide{background-size:cover;background-position:center;opacity:0;transition:opacity 1s}
.slide.active{opacity:1}
.hero-content{position:relative;z-index:2}

/* SECTIONS */
section{padding:40px 20px;max-width:1200px;margin:auto}
.page{opacity:0;transform:translateY(10px);transition:.4s}
.page.show{opacity:1;transform:none}

/* PRODUCTS */
.product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
.product{background:#fff;padding:15px;border-radius:8px;text-align:center;box-shadow:0 4px 8px rgba(0,0,0,.1)}
.product img{width:100%;height:150px;object-fit:cover;border-radius:5px;margin-bottom:10px}

/* BUTTON */
.cta-btn{padding:10px 20px;background:#0077cc;color:#fff;border:none;border-radius:5px;cursor:pointer;margin-top:5px}
.cta-btn:hover{background:#005fa3}

/* CART */
#cart-count{background:red;padding:2px 6px;border-radius:50%;font-size:12px}

/* MODAL */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center}
.modal-content{background:#fff;padding:20px;width:90%;max-width:600px;border-radius:8px;max-height:90vh;overflow:auto}
.close{float:right;font-size:24px;cursor:pointer}

/* FOOTER */
footer{text-align:center;padding:20px;background:#222;color:#fff}
</style>
</head>

<body>

<header class="site-header">
<div class="logo-container">
  <img src="image/new-logo.png" class="logo" alt="Hybrid Logo"
       onerror="this.onerror=null;this.src='https://via.placeholder.com/150x45?text=Logo';">
  <h2>Hybrid Spares Shop</h2>
</div>

<button class="menu-toggle" id="menuToggle"><i class="fa fa-bars"></i></button>

<nav>
  <a href="#home" class="nav-link">Home</a>
  <a href="#products" class="nav-link">Products</a>
  <a href="#cart" class="nav-link">Cart (<span id="cart-count">0</span>)</a>
  <a href="#payment" class="nav-link">Payment</a>
  <a href="#location" class="nav-link">Location</a>
  <a href="#contact" class="nav-link">Contact</a>
  <button id="adminLoginBtn">Admin</button>
</nav>
</header>

<!-- HERO -->
<section class="hero" id="home">
  <div class="slideshow">
    <div class="slide active" style="background-image:url('image/hero-new1.png');"
         onerror="this.style.backgroundImage='url(https://via.placeholder.com/1200x400?text=Hero+1)';"></div>
    <div class="slide" style="background-image:url('image/hero-new2.png');"
         onerror="this.style.backgroundImage='url(https://via.placeholder.com/1200x400?text=Hero+2)';"></div>
    <div class="slide" style="background-image:url('image/hero-new3.png');"
         onerror="this.style.backgroundImage='url(https://via.placeholder.com/1200x400?text=Hero+3)';"></div>
  </div>
  <div class="hero-content">
    <h1>Hybrid Vehicle Spares</h1>
    <p>Quality • Batteries • Modules • Accessories</p>
    <button class="cta-btn" id="bookServiceBtn">Book Service</button>
  </div>
</section>

<!-- PAGES -->
<section id="products" class="page hidden-section">
<h2>Products</h2>
<div class="product-grid" id="product-list"></div>
</section>

<section id="cart" class="page hidden-section">
<h2>Your Cart</h2>
<div id="cart-items"></div>
<h3 id="cart-total">Total: KES 0</h3>

<div class="cart-actions">
<button class="cta-btn" id="checkoutPaybill">Checkout via Paybill</button>
</div>

<div id="paybill-info" class="hidden-section">
<h4>Pay via M-Pesa Paybill</h4>
<ul>
<li>Paybill Number: <strong>222111</strong></li>
<li>Account Number: <strong>5825469</strong></li>
<li>Business Name: <strong>Hybrid Centre</strong></li>
</ul>
<p>After payment, click the button below to send confirmation via WhatsApp:</p>
<button class="cta-btn" id="confirmPaymentBtn">Send Confirmation via WhatsApp</button>
</div>
</section>

<section id="payment" class="page hidden-section">
<h2>Payment</h2>
<p>Payment is via M-Pesa Paybill only. See cart checkout for details.</p>
</section>

<section id="location" class="page hidden-section">
<h2>Location</h2>
<p>Kirinyaga Road, behind Indian Mosque, Grogon Lane, Nairobi</p>
<iframe width="100%" height="300"
src="https://www.google.com/maps?q=Kirinyaga+Road+behind+Indian+Mosque+Grogon+Lane+Nairobi&output=embed"></iframe>
</section>

<section id="contact" class="page hidden-section">
<h2>Contact</h2>
<p>Call us: <a href="tel:+254780328599">+254 780 328 599</a></p>
<p>WhatsApp: <a href="https://wa.me/254780328599" target="_blank">Chat with us</a></p>
</section>

<!-- ADMIN -->
<div class="modal hidden" id="adminModal">
<div class="modal-content">
<span class="close" id="closeAdmin">&times;</span>
<h3>Add Product</h3>
<input id="admin-name" placeholder="Name">
<input id="admin-price" type="number" placeholder="Price">
<button id="addProductBtn">Add</button>
<ul id="admin-list"></ul>
</div>
</div>

<footer>&copy; 2025 Hybrid Spares Shop</footer>

<script>
/* DATA */
let products = [
{name:"Hybrid Battery 12V 100Ah",price:12000,img:"https://via.placeholder.com/300x150?text=Battery+12V"},
{name:"Hybrid Battery 24V 50Ah",price:15000,img:"https://via.placeholder.com/300x150?text=Battery+24V"},
{name:"Inverter 3kW",price:18000,img:"https://via.placeholder.com/300x150?text=Inverter+3kW"},
{name:"DC-DC Converter",price:8000,img:"https://via.placeholder.com/300x150?text=DC-DC"},
{name:"Battery Management Module",price:12000,img:"https://via.placeholder.com/300x150?text=BMS"},
{name:"Hybrid ECU Module",price:25000,img:"https://via.placeholder.com/300x150?text=ECU"},
{name:"Regenerative Braking Module",price:22000,img:"https://via.placeholder.com/300x150?text=Brake+Module"},
{name:"Cooling Fan Assembly",price:3500,img:"https://via.placeholder.com/300x150?text=Fan"},
{name:"Hybrid Fuse Box",price:4500,img:"https://via.placeholder.com/300x150?text=Fuse+Box"},
{name:"High Voltage Cables Set",price:6000,img:"https://via.placeholder.com/300x150?text=Cables"},
{name:"Battery Terminal Kit",price:1200,img:"https://via.placeholder.com/300x150?text=Terminals"},
{name:"Hybrid Sensor Pack",price:8000,img:"https://via.placeholder.com/300x150?text=Sensors"}
];

let cart = [];

/* NAV SPA */
const hero = document.querySelector(".hero");
const pages = document.querySelectorAll(".page");
const navLinks = document.querySelectorAll(".nav-link");

function showPage(id){
pages.forEach(p=>{p.classList.add("hidden-section");p.classList.remove("show")});
hero.classList.add("hidden-section");
if(id==="#home"){hero.classList.remove("hidden-section")}
else{
const p=document.querySelector(id);
if(p){p.classList.remove("hidden-section");setTimeout(()=>p.classList.add("show"),10)}
}
navLinks.forEach(l=>l.classList.remove("active"));
document.querySelector(`a[href="${id}"]`)?.classList.add("active");
history.pushState(null,"",id);
}

navLinks.forEach(l=>l.onclick=e=>{e.preventDefault();showPage(l.getAttribute("href"))});
showPage(location.hash||"#home");

/* SLIDES */
const slides=document.querySelectorAll(".slide");
let s=0;
setInterval(()=>{if(!hero.classList.contains("hidden-section")){
slides.forEach(sl=>sl.classList.remove("active"));
s=(s+1)%slides.length;
slides[s].classList.add("active");
}},5000);

/* PRODUCTS */
const list=document.getElementById("product-list");
function render(){
list.innerHTML="";
products.forEach(p=>{
const d=document.createElement("div");
d.className="product";
d.innerHTML=`<img src="${p.img}" alt="${p.name}"><h3>${p.name}</h3><p>KES ${p.price}</p><button class="cta-btn">Add</button>`;
d.querySelector("button").onclick=()=>{cart.push(p);updateCart()};
list.appendChild(d);
});
}
render();

/* CART */
function updateCart(){
const c=document.getElementById("cart-items");
c.innerHTML="";
let total=0;
cart.forEach(i=>{c.innerHTML+=`${i.name} - KES ${i.price}<br>`; total+=i.price});
document.getElementById("cart-count").textContent=cart.length;
document.getElementById("cart-total").textContent=`Total: KES ${total}`;
}

/* Checkout via Paybill */
document.getElementById("checkoutPaybill").onclick=()=>{
if(cart.length===0) return alert("Your cart is empty!");
document.getElementById("paybill-info").classList.remove("hidden-section");
};

/* WhatsApp confirmation */
document.getElementById("confirmPaymentBtn").onclick=()=>{
if(cart.length===0) return alert("Your cart is empty!");
let msg="Payment Confirmation for Order:%0A";
let total=0;
cart.forEach(i=>{msg+=`${i.name} - KES ${i.price}%0A`; total+=i.price;});
msg+=`Total Paid: KES ${total}`;
window.open(`https://wa.me/254780328599?text=${msg}`);
};

/* BOOK SERVICE BUTTON */
document.getElementById("bookServiceBtn").onclick=()=>showPage("#contact");

/* ADMIN */
const modal=document.getElementById("adminModal");
document.getElementById("adminLoginBtn").onclick=()=>modal.classList.remove("hidden");
document.getElementById("closeAdmin").onclick=()=>modal.classList.add("hidden");
document.getElementById("addProductBtn").onclick=()=>{
const name=document.getElementById("admin-name").value;
const price=+document.getElementById("admin-price").value;
if(name && price){products.push({name,price,img:"https://via.placeholder.com/300x150?text=New+Product"}); render();}
document.getElementById("admin-name").value="";
document.getElementById("admin-price").value="";
};
</script>

</body>
</html>
