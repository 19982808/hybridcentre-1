<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hybrid Spares Shop</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
* { box-sizing: border-box; margin:0; padding:0; font-family:Poppins, Arial, sans-serif; }
body { background:#f5f5f5; color:#000; font-weight:bold; }
.hidden-section { display:none !important; }
.site-header { display:flex; justify-content:space-between; align-items:center; background:#4888C4; color:#fff; padding:15px 20px; position:sticky; top:0; z-index:1000; }
nav a, nav button { color:#fff; background:none; border:none; margin-left:15px; cursor:pointer; font-weight:bold; text-decoration:none; }
nav a.active { color:#FFD700; border-bottom:2px solid #fff; }
.logo-container { display:flex; align-items:center; }
.logo { height:80px; margin-right:10px; }

/* Mobile */
.menu-toggle { display:none; font-size:22px; color:#fff; background:none; border:none; }
@media(max-width:768px) {
    nav { display:none; flex-direction:column; background:#222; position:absolute; top:100%; left:0; right:0; }
    nav.open { display:flex; }
    .menu-toggle { display:block; }
    nav a, nav button { padding:15px; border-top:1px solid #333; margin-left:0; }
}

/* Hero */
.hero { height:400px; position:relative; display:flex; align-items:center; justify-content:center; color:#fff; text-align:center; overflow:hidden; }
.slideshow, .slide { position:absolute; inset:0; }
.slide { background-size:cover; background-position:center; opacity:0; transition:opacity 0.5s; }
.slide.active { opacity:1; }
.hero-content { position:relative; z-index:2; }
.cta-btn { padding:10px 20px; background:#0077cc; color:#fff; border:none; border-radius:5px; cursor:pointer; margin-top:10px; }
.cta-btn:hover { background:#005fa3; }

/* Sections */
section { padding:40px 20px; max-width:1200px; margin:auto; background:#111; color:#fff; font-weight:bold; border-radius:8px; margin-bottom:20px; }
.product-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:20px; }
.product { background:#fff; padding:15px; border-radius:8px; text-align:center; color:#000; font-weight:bold; box-shadow:0 4px 8px rgba(0,0,0,.1); }
.product img { width:100%; height:150px; object-fit:cover; border-radius:5px; margin-bottom:10px; }
.product-icon { font-size:50px; color:#0077cc; margin-bottom:10px; }

/* Cart */
#cart-count { background:red; padding:2px 6px; border-radius:50%; font-size:12px; }
.cart-actions { margin-top:10px; }

/* Modal */
.modal { position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; }
.modal-content { background:#fff; padding:20px; width:90%; max-width:600px; border-radius:8px; max-height:90vh; overflow:auto; }
.close { float:right; font-size:24px; cursor:pointer; }

/* Footer */
footer { text-align:center; padding:20px; background:#222; color:#4888C4; }
</style>
</head>
<body>

<!-- HEADER / NAV -->
<header class="site-header">
  <div class="logo-container">
    <img src="images/logo.png" class="logo" alt="Hybrid Centre Logo">
    <h2>HYBRID CENTRE</h2>
  </div>
  <button class="menu-toggle" id="menuToggle"><i class="fa fa-bars"></i></button>
  <nav>
      <a href="#home" class="nav-link">Home</a>
      <a href="#products" class="nav-link">Products</a>
      <a href="#services" class="nav-link">Services</a>
      <a href="#cart" class="nav-link">Cart (<span id="cart-count">0</span>)</a>
      <a href="#payment" class="nav-link">Payment</a>
      <a href="#location" class="nav-link">Location</a>
      <a href="#contact" class="nav-link">Contact</a>
      <button id="adminLoginBtn">Admin</button>
  </nav>
</header>

<!-- HERO -->
<section class="hero" id="home">
  <div class="slideshow">
    <div class="slide active" style="background-image:url('images/hero1.png')"></div>
    <div class="slide" style="background-image:url('images/hero2.png')"></div>
    <div class="slide" style="background-image:url('images/hero3.png')"></div>
    <div class="slide" style="background-image:url('images/hero4.png')"></div>
  </div>
  <div class="hero-content">
    <h1>Hybrid Vehicle Spares</h1>
    <p>Quality • Batteries • Modules</p>
    <button class="cta-btn" id="bookServiceBtn">Shop Now</button>
  </div>
</section>

<!-- PRODUCTS -->
<section id="products" class="page hidden-section">
  <h2>Our Products</h2>
  <div id="product-list" class="product-grid">
    <!-- Initial products -->
    <div class="product">
      <i class="fa-solid fa-battery-full product-icon"></i>
      <h3>Hybrid Batteries & Modules</h3>
      <p>High-quality battery packs compatible with hybrid vehicles.</p>
      <p>Price: 500</p>
      <button class="cta-btn add-to-cart-btn" data-name="Hybrid Batteries" data-price="500">Buy Now</button>
    </div>
    <div class="product">
      <i class="fa-solid fa-gears product-icon"></i>
      <h3>Electric Motors & Generators</h3>
      <p>Reliable motors and motor-generators.</p>
      <p>Price: 750</p>
      <button class="cta-btn add-to-cart-btn" data-name="Electric Motors" data-price="750">Buy Now</button>
    </div>
  </div>
</section>

<!-- SERVICES -->
<section id="services" class="page hidden-section">
  <h2>Our Services</h2>
  <div class="product-grid">
    <div class="product">
      <i class="fa-solid fa-car-battery product-icon"></i>
      <h3>Battery Testing</h3>
      <p>We test hybrid vehicle batteries for performance and reliability.</p>
      <p>Price: 200</p>
      <button class="cta-btn add-to-cart-btn" data-name="Battery Testing" data-price="200">Book Service</button>
    </div>
    <div class="product">
      <i class="fa-solid fa-wrench product-icon"></i>
      <h3>Engine Diagnostics</h3>
      <p>Full engine diagnostic services to identify faults.</p>
      <p>Price: 300</p>
      <button class="cta-btn add-to-cart-btn" data-name="Engine Diagnostics" data-price="300">Book Service</button>
    </div>
  </div>
</section>

<!-- CART -->
<section id="cart" class="page hidden-section">
  <h2>Your Cart</h2>
  <div id="cart-items"></div>
  <h3 id="cart-total">Total: 0</h3>
  <div class="cart-actions">
      <button class="cta-btn" id="checkoutPaybill">Checkout via Paybill</button>
  </div>
  <div id="paybill-info" class="hidden-section">
    <h4>Pay via M-Pesa Paybill</h4>
    <ul>
      <li>Paybill Number: <strong>222111</strong></li>
      <li>Account Number: <strong>5825469</strong></li>
      <li>Business Name: <strong>Hybrid Centre</strong></li>
    </ul>
    <p>After payment, click below to confirm via WhatsApp:</p>
    <button class="cta-btn" id="confirmPaymentBtn">Send Confirmation via WhatsApp</button>
  </div>
</section>

<!-- PAYMENT -->
<section id="payment" class="page hidden-section">
  <h2>Payment</h2>
  <p>Payment is via M-Pesa Paybill only. See cart checkout for details.</p>
</section>

<!-- LOCATION -->
<section id="location" class="page hidden-section">
  <h2>Location</h2>
  <p>Kirinyaga Road, behind Indian Mosque, Grogon Lane, Nairobi</p>
  <iframe width="100%" height="300" src="https://www.google.com/maps?q=Kirinyaga+Road+behind+Indian+Mosque+Grogon+Lane+Nairobi&output=embed"></iframe>
</section>

<!-- CONTACT -->
<section id="contact" class="page hidden-section">
  <h2>Contact</h2>
  <p>Call us: <a href="tel:+254780328599">+254 780 328 599</a></p>
  <p>WhatsApp: <a href="https://wa.me/254780328599" target="_blank">Chat with us</a></p>
</section>

<!-- ADMIN -->
<div class="modal hidden" id="adminModal">
  <div class="modal-content">
    <span class="close" id="closeAdmin">&times;</span>
    <h3>Add Product</h3>
    <input id="admin-name" placeholder="Name">
    <input id="admin-price" type="number" placeholder="Price">
    <button class="cta-btn" id="addProductBtn">Add</button>
    <ul id="admin-list"></ul>
  </div>
</div>

<footer>&copy; 2025 Hybrid Spares Shop</footer>

<script>
// SPA Navigation
const hero = document.querySelector(".hero");
const pages = document.querySelectorAll(".page");
const navLinks = document.querySelectorAll(".nav-link");

function showPage(id) {
  pages.forEach(p => { p.classList.add("hidden-section"); });
  if(id === "#home") { hero.classList.remove("hidden-section"); }
  else {
    hero.classList.add("hidden-section");
    const page = document.querySelector(id);
    if(page) page.classList.remove("hidden-section");
  }
  navLinks.forEach(l => l.classList.remove("active"));
  document.querySelector(`a[href="${id}"]`)?.classList.add("active");
  history.pushState(null,"",id);
}

// Hero slideshow
const slides = document.querySelectorAll(".slide");
let s = 0;
setInterval(() => {
  if(!hero.classList.contains("hidden-section")){
    slides.forEach(sl=>sl.classList.remove("active"));
    s=(s+1)%slides.length;
    slides[s].classList.add("active");
  }
},5000);

// Cart
let cart=[];
function updateCart(){
  const cartItems=document.getElementById("cart-items");
  cartItems.innerHTML="";
  let total=0;
  cart.forEach(item=>{ cartItems.innerHTML+=`${item.name} - KES ${item.price}<br>`; total+=item.price; });
  document.getElementById("cart-count").textContent=cart.length;
  document.getElementById("cart-total").textContent=`Total: KES ${total}`;
}
function addToCartButtons(){
  document.querySelectorAll(".add-to-cart-btn").forEach(btn=>{
    btn.onclick=()=>{ cart.push({name:btn.dataset.name, price:+btn.dataset.price}); updateCart(); showPage("#cart"); };
  });
}
addToCartButtons();

// Checkout Paybill
document.getElementById("checkoutPaybill").onclick=()=>{
  if(cart.length===0) return alert("Cart empty!");
  document.getElementById("paybill-info").classList.remove("hidden-section");
};

// WhatsApp confirmation
document.getElementById("confirmPaymentBtn").onclick=()=>{
  if(cart.length===0) return alert("Cart empty!");
  let msg="Payment Confirmation for Order:%0A"; let total=0;
  cart.forEach(i=>{ msg+=`${i.name} - KES ${i.price}%0A`; total+=i.price; });
  msg+=`Total Paid: KES ${total}`;
  window.open(`https://wa.me/254780328599?text=${msg}`);
};

// Book service button
document.getElementById("bookServiceBtn").onclick=()=>showPage("#products");

// Admin modal
const modal=document.getElementById("adminModal");
document.getElementById("adminLoginBtn").onclick=()=>modal.classList.remove("hidden");
document.getElementById("closeAdmin").onclick=()=>modal.classList.add("hidden");
document.getElementById("addProductBtn").onclick=()=>{
  const name=document.getElementById("admin-name").value;
  const price=+document.getElementById("admin-price").value;
  if(name && price){
    const productList=document.getElementById("product-list");
    const div=document.createElement("div"); div.className="product";
    div.innerHTML=`<i class="fa-solid fa-box product-icon"></i><h3>${name}</h3><p>Added via Admin</p><p>Price: ${price}</p><button class="cta-btn add-to-cart-btn" data-name="${name}" data-price="${price}">Buy Now</button>`;
    productList.appendChild(div);
    addToCartButtons();
    document.getElementById("admin-name").value="";
    document.getElementById("admin-price").value="";
  }
};

// Mobile menu toggle
document.getElementById("menuToggle").onclick=()=>document.querySelector("nav").classList.toggle("open");

// Nav links
navLinks.forEach(l=>{
  l.onclick=e=>{ e.preventDefault(); showPage(l.getAttribute("href")); document.querySelector("nav").classList.remove("open"); };
});

// Initialize page
showPage(location.hash||"#home");
</script>

</body>
</html>
